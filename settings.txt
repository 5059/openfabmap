##### FUNCTION #####
# 1 - Build Codebook
# 2 - Build ChowLiuTree
# 3 - View Features on a Video
# 4 - View Words on a Video
# 5 - Full PDF Calculation. Each frame added (FAB_MAP 1.0 without the Pior on position)
# 6 - FBO PDF Calculation. Frames added when new location is 
	- maximal probabilty (FABMAP+RatSLAM)
# 7 - Visualise FABMAP results from results file

FUNCTION = 6

##### CODEBOOK #####

CB_FILE = C:\pioneer\fabmaptest\test_codebook.save
CB_DATAFILE = C:\pioneer\fabmaptest\test_bookdata.save
CB_MOVIE = C:\pioneer\fabmaptest\stlucia_testloop.avi

# 1 - Modified Sequential Cluster
# 2 - Kmeans (openCV has a Kmeans implementation but is not in here yet)
CB_METHOD = 1

#setting MSC_CLUSTERS > 0 will attempt to find a clustersize that will give
# the amount of clusters (words) desired through trial and error. To turn
#this off and simply use the MSC_CLUSTERSIZE set MSC_CLUSTERS = 0
MSC_CLUSTERS = 0
MSC_CLUSTERSIZE = 0.5

KM_NCENTRES = 10 # <- not implemented

##### CHOW-LIU TREE #####

CL_FILE =  C:\pioneer\fabmaptest\test_tree.save
CL_MOVIE = C:\pioneer\fabmaptest\stlucia_testloop.avi

#a large amount of data is required to store the mutual information used to
#create the minimum spanning tree. Increasing the threshold means that less
#data is stored however COULD reduce the tree performance or cause it not to
#finish building. e.g. 8000 word codebook requires 1.2 Gb RAM.
#A threshold of 0 is zero risk to performance but takes longer and may fail
#due to memory requirements
CL_INFOTHRESH = 0.008;

##### FAB-MAP #####

FM_SAVE = C:\pioneer\fabmaptest\test_fboresults.save
FM_MOVIE = C:\pioneer\fabmaptest\stlucia_testloop.avi
FM_SHOWMOVIE = true

FM_PZGE = 0.39
FM_PZGNE = 0.00

# we caclulate the gap between hyp A and hyp B and set the bailout limit
# such that the probability that B will eventually be better than A is
FM_PS_D = 1e-6

# we have a limit below the best hyp at which we still consider the
# probabilty of other hyps valid. The likelihood of bailed-out hyps will 
# also be set to this value
FM_LOFBOH = 1e-6

# we estimate the bail-out gap using bisection method.
# BISECTION_START specifies the maximal value the gap can be
# BISECTION_ITERATIONS specifies the accuracy (START/2^ITERATIONS)
FM_BISTART = 512
FM_BIITS = 9

# prior probabilty of the next location being close to the previous 
# current location
FM_PNEAR = 0.9
# the neighbourhood size of the 'closeness' of PNEAR
FM_PNEW = 0.5
# the prior probabilty of the location being a new location
FM_NFR = 1

##### VIEWING #####

VW_MOVIE = C:\pioneer\fabmaptest\stlucia_testloop.avi
VW_FPS = 20 # 0 -> a key must be pressed to continue to the next frame

VW_RESULTS = C:\pioneer\fabmaptest\test_fboresults.save
VW_TNSIZEWIDTH = 200
VW_TNSIZEHEIGHT = 100


##### FEATURE EXTRACTION #####

#DETECTOR_MODE
# 1 - SURF
DETECT_MODE = 1

#using openSURF
OS_UPRIGHT = true
OS_OCTAVES = 5
OS_INTERVALS = 4 
OS_INIT = 6
OS_THRESHOLD = 0.0008
